<!DOCTYPE html>
<html lang="en_US">
<head>
    <meta charset="utf-8" />
    <title>Test API a FastAPI Example | DevSetGo</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta name="author" content="Mike Ryan">
    <meta name="dc.copyright" content="Mike Ryan">
    <meta name="description" content="Just my site...">
    <meta name="keywords" content="Python, Code, Development, JavaScript, BPMN, Workflow, Camunda, Go">

    
    <link href="https://devsetgo.com/css/bootswatch/hoff.min.css" rel="stylesheet">
    
    <link href="https://devsetgo.com/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://devsetgo.com/css/custom.css" rel="stylesheet">



<script type="text/javascript">
    var azbalacHeaderImage = [{"url":"https:\/\/devsetgo.com\/..\/images\/cliffs.jpg",
    "height": '673',
    "width": '2512'},"","",""];
</script>
<script src="https://devsetgo.com/js/jquery-3.3.1.min.js"></script>
<script src="https://devsetgo.com/js/functions.js"></script><style>body {}.footer-container { background-color: #29281f; }.footer-container { color: #f9fcf9; }</style>



<link id="typography-header-title-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Exo%3A800"><style id="typography-title" type="text/css">#site-header-text a {
        font-family: Exo;
    }#site-header-text a {
        font-size: 50px; 
    }</style>

<link id="typography-header-subtitle-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Exo%3A600"><style id="typography-subtitle" type="text/css">#site-description {
        font-family: Exo;
    }#site-description {
        font-size: 30px; 
    }</style>

<style id="typography-body" type="text/css"></style>

<style id="typography-navbar" type="text/css">nav#navbarMain {
        font-size: 20px; 
    }
    nav#navbarMain ul.dropdown-menu {
        font-size: 20px;
    }</style>

<link id="typography-headline-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans"><style id="typography-headline" type="text/css">h1, h2, h3, h4, h5, h6 {
                font-family: Open Sans; 
            }</style>



    
    <script type="text/javascript">
        var azbalacSettingHeaderColor = { 'bg': '#000000',
            'transp': '0'
            };

    </script>
    <style type="text/css">
        #site-header-text a, #site-description {
                background: "#000000";  
            background:  rgba(0,0,0,0.00);
            
        }
    </style>
    
    
    <style type="text/css">
        #site-header-box-title {
            margin-bottom: 0px;
        }
    </style>
    
    
    <style type="text/css">
        #site-header-container-overlay {
        
            left: 20px;
        
        
            top: 20px;
        
        }
    </style>
    


<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

</head>


<body>

<div id="header" role="banner" style="">

    <div class="container">
        <header class="masthead">
            <div>
                <div id="site-header-container-above" class="row align-items-center">
                    
                </div>
            </div>


            

            <div id="site-header-above"><a href="https://devsetgo.com/" rel="home"><img id="site-header-image" src="https://devsetgo.com/../images/cliffs.jpg" width="1" height="1" data-width="2512" data-height="673" alt="alt text for header image">
                </a>

                <div id="site-header-container-overlay" class="position-absolute  fixed-top ">
                    <div id="site-header-box-title" class=" d-flex justify-content-start ">
                        <h1 class="azbalac-title" id="site-header-text"><a class="header-url" style="color: #073642;" href="https://devsetgo.com/">DevSetGo</a></h1>
                    </div>
                    
                </div>
                
             
            </div>


    <nav id="navbarMain" class="navbar navbar-expand-sm justify-content-between mb-3 navbar-dark bg-primary" role="navigation">
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
        </button>
      
            
            <div class="sticky-top navbar-collapse collapse  " id="navbarSupportedContent"> 
                <ul class="navbar-nav">

  
  <li class="nav-item ">
    <a class="nav-link" href="/">
      
      Home
    </a>
  </li>
  <span class="mx-2"></span>
  

  
  <li class="nav-item ">
    <a class="nav-link" href="/posts/">
      
      Blog
    </a>
  </li>
  <span class="mx-2"></span>
  

  
  <li class="nav-item ">
    <a class="nav-link" href="/about/">
      
      About
    </a>
  </li>
  <span class="mx-2"></span>
  

  
  <li class="nav-item ">
    <a class="nav-link" href="/projects/">
      
      Projects
    </a>
  </li>
  <span class="mx-2"></span>
  
</ul>
             
            </div>
        
            
    </nav> 



      </header>
    </div> 
</div>


    <div id="main">
        <div class="container">
            <div class="row"><div class="col-md" id="content">





<h1>Test API a FastAPI Example</h1>

    <div class="post-meta"><span class="byline-icon fa fa-clock-o" aria-hidden="true"></span> <span class="screen-reader-text">Date: </span><time datetime="2019-11-30T12:00:00Z">2019.11.30</time> - 
    600 Words </div>


  <figure>
    <img src="/images/fastapi.png"
         alt="FastAPI" width="600"/> 
</figure>

<p>A test/psuedo API to use as sample data or test data. Inspired by <a href="http://www.fakeresponse.com/">FakeResponse.com</a>. Documentation can be found at <a href="https://devsetgo.com/projects/test-api">devsetgo.com/projects/test-api</a>.</p>
<p>This project is to serve as an experiment to learn <a href="https://fastapi.tiangolo.com/">FastApi</a> and serve as a useful API to serve psuedo data when needed in other projects.</p>
<p>Currently running at <a href="https://test-api.devsetgo.com">Test-API.DevSetGo.com</a></p>
<ul>
<li><a href="https://swagger.io/docs/specification/about/">OpenAPI</a>/Swagger UI @ <a href="https://test-api.devsetgo.com/docs">Test-API.DevSetGo.com/docs</a></li>
<li><a href="https://redoc.ly/">ReDoc</a> @ <a href="https://test-api.devsetgo.com/redoc">Test-API.DevSetGo.com/ReDoc</a></li>
</ul>
<p>Python:
<img src="https://img.shields.io/badge/calver-YYYY.MM.DD-22bfda.svg" alt="image" title="CalVer">
<!-- raw HTML omitted --><!-- raw HTML omitted -->
<a href="https://www.python.org/downloads/release/python-360/"><img src="https://img.shields.io/badge/python-3.6-blue.svg" alt="Python 3.6"></a>
<a href="https://www.python.org/downloads/release/python-370/"><img src="https://img.shields.io/badge/python-3.7-blue.svg" alt="Python 3.7"></a></p>
<p>CI/CD Pipeline:
<a href="https://codecov.io/gh/devsetgo/test-api"><img src="https://codecov.io/gh/devsetgo/test-api/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="https://github.com/devsetgo/test-api/actions"><img src="https://github.com/devsetgo/test-api/workflows/Run%20Tests/badge.svg" alt="Actions Status"></a>
<a href="https://github.com/devsetgo/test-api/actions"><img src="https://github.com/devsetgo/test-api/workflows/Docker%20RC/badge.svg" alt="Actions Status"></a>
<a href="https://github.com/devsetgo/test-api/actions"><img src="https://github.com/devsetgo/test-api/workflows/Docker%20Latest/badge.svg" alt="Actions Status"></a></p>
<p>SonarCloud:
<a href="https://sonarcloud.io/dashboard?id=devsetgo_test-api"><img src="https://sonarcloud.io/api/project_badges/measure?project=devsetgo_test-api&amp;metric=sqale_rating" alt="Maintainability Rating"></a>
<a href="https://sonarcloud.io/dashboard?id=devsetgo_test-api"><img src="https://sonarcloud.io/api/project_badges/measure?project=devsetgo_test-api&amp;metric=reliability_rating" alt="Reliability Rating"></a>
<a href="https://sonarcloud.io/dashboard?id=devsetgo_test-api"><img src="https://sonarcloud.io/api/project_badges/measure?project=devsetgo_test-api&amp;metric=alert_status" alt="Quality Gate Status"></a>
<a href="https://sonarcloud.io/dashboard?id=devsetgo_test-api"><img src="https://sonarcloud.io/api/project_badges/measure?project=devsetgo_test-api&amp;metric=bugs" alt="Bugs"></a>
<img src="https://img.shields.io/docker/pulls/mikeryan56/test-api" alt="Docker Image"></p>
<h3 id="note">Note</h3>
<ul>
<li>This requires a *Nix environment to run. (Linux, Unix, Windows 10 WSL (unbuntu tested) and I think Mac OS (I don't use a Mac)</li>
<li><del>This should be just consider a <strong>beta version</strong> api at this time.</del></li>
</ul>
<h2 id="create-environment">Create Environment</h2>
<ul>
<li>
<p>Copy the repo</p>
<pre><code>git clone https://github.com/devsetgo/test-api.git
python3.7 -m venv env
source env/bin/activate
cd app
</code></pre></li>
<li>
<p>Notes:</p>
<ul>
<li>Libraries require Python 3.6 or 3.7
<ul>
<li>Note: I am using <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Ubuntu via WSL</a></li>
<li>Upgrading (adding) <a href="https://jcutrer.com/linux/upgrade-python37-ubuntu1810">Python 3.7 to Ubuntu</a> and setting it as the default for Python3</li>
<li>Upgrading <a href="https://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-programming-environment-on-ubuntu-18-04-quickstart">Python3 and install venv</a></li>
</ul>
</li>
<li>You may need to upgrade pip and setuptools first (pip3 install &ndash;upgrade pip setuptools)</li>
</ul>
</li>
<li>
<p>Install requirements</p>
<pre><code>Production: pip3 install -r requirements.txt
Development: pip3 install -r requirements/dev.txt
</code></pre></li>
<li>
<p>Run it</p>
</li>
</ul>
<pre><code>UVICORN
    Development:
        uvicorn main:app --port 5000 --reload
        python3 main.py (running Uvicorn from Code - no reload)

    Production:
        uvicorn main:app --port 5000 --workers 2
        python3 main.py (running Uvicorn from code)
        gunicorn -c gunicorn_cfg.py main:app
        # Note: gunicorn is the config for the dockerfile

Docker
    Docker: docker pull mikeryan56/test-api:latest
</code></pre><p>Run Tests</p>
<p>By commands</p>
<pre><code>python3 -m pytest
</code></pre><p>Create coverage badge</p>
<pre><code>    coverage-badge -o coverage.svg -f
</code></pre><p>As a Script from app directory</p>
<pre><code>./scripts/tests.sh
</code></pre><p>Pre-Commit &amp; Hooks
- Follow install instructionsL: <a href="https://pre-commit.com/#install"><a href="https://pre-commit.com/#install">https://pre-commit.com/#install</a></a>
- pre-commit install
- pre-commit run -a</p>
<h2 id="features">Features</h2>
<ul>
<li>
<p>default</p>
<ul>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/</strong></em> (root) Forward to OpenAPI to <em><strong>/docs</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/Information</strong></em> endpoint containing basic app info</li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/joke</strong></em> <a href="https://pyjok.es/">PyJoke</a> list</li>
</ul>
</li>
<li>
<p>todos</p>
<ul>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/todo/list</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/todo/list/count</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/todo/list/{todo_id}</strong></em></li>
<li><input checked="" disabled="" type="checkbox">DELETE <em><strong>/api/v1/todo/list/{todo_id}</strong></em></li>
<li><input checked="" disabled="" type="checkbox">PUT <em><strong>/api/v1/todo/list/{todo_id}</strong></em></li>
<li><input checked="" disabled="" type="checkbox">POST <em><strong>/api/v1/todo/create/</strong></em></li>
</ul>
</li>
<li>
<p>users</p>
<ul>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/users/list</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/users/list/count</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/users/list/{user_id}</strong></em></li>
<li><input checked="" disabled="" type="checkbox">DELETE <em><strong>/api/v1/users/list/{user_id}</strong></em></li>
<li><input checked="" disabled="" type="checkbox">PUT <em><strong>/api/v1/users/list/{user_id}</strong></em></li>
<li><input checked="" disabled="" type="checkbox">POST <em><strong>/api/v1/users/create/</strong></em></li>
<li><input checked="" disabled="" type="checkbox">POST <em><strong>/api/v1/users/check-pwd/</strong></em></li>
</ul>
</li>
<li>
<p>tools</p>
<ul>
<li><input checked="" disabled="" type="checkbox">POST <em><strong>/api/v1/tools/convert-to/xml</strong></em></li>
<li><input checked="" disabled="" type="checkbox">POST <em><strong>/api/v1/tools/convert-to/json</strong></em></li>
</ul>
</li>
<li>
<p>silly users</p>
<ul>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/silly-users/make-one</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/v1/silly-users/list</strong></em></li>
</ul>
</li>
<li>
<p>health</p>
<ul>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/health/</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/health/system-info</strong></em></li>
<li><input checked="" disabled="" type="checkbox">GET <em><strong>/api/health/processes</strong></em></li>
</ul>
</li>
</ul>
<h2 id="issuesbugs">Issues/Bugs</h2>
<ul>
<li><input disabled="" type="checkbox">None</li>
</ul>
<h3 id="todo">TODO</h3>
<ul>
<li><input checked="" disabled="" type="checkbox">Setup CI/CD Pipeline for test and deployment
<ul>
<li><del><input checked="" disabled="" type="checkbox"><a href="https://travis-ci.org">Travis-CI</a></del> <em><strong>replaced by Github Actions</strong></em></li>
<li><input checked="" disabled="" type="checkbox"><a href="https://sonarcloud.io">SonarCloud</a></li>
<li><input checked="" disabled="" type="checkbox"><a href="https://github.com/features/actions">Github Actions</a> found in .github/workflow/actions
<ul>
<li><input checked="" disabled="" type="checkbox">tests - matrix run of Python 3.6 and 3.7
<ul>
<li><input checked="" disabled="" type="checkbox">CodeCove.io upload</li>
</ul>
</li>
<li><input checked="" disabled="" type="checkbox">docker-rc - docker build and push when pull request approved for release-candidate branch (calendar version - rc)</li>
<li><input checked="" disabled="" type="checkbox">docker-master - docker build and push when pull request approved for master branch (calender version and latest)</li>
<li><input checked="" disabled="" type="checkbox">ensure docker build only happens after pull_request approved and merged into higher branch</li>
</ul>
</li>
</ul>
</li>
<li><input checked="" disabled="" type="checkbox">Make <a href="https://12factor.net/">Twelve Factor App</a> ready</li>
</ul>
<p><strong>Application</strong></p>
<ul>
<li>
<p><input checked="" disabled="" type="checkbox">Refactor by endpoint (sample, user, etc..)</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox">Create tests</p>
<ul>
<li><input checked="" disabled="" type="checkbox">Minimum of 80%</li>
<li><input checked="" disabled="" type="checkbox">Exception Testing</li>
</ul>
</li>
<li>
<p><input checked="" disabled="" type="checkbox">Extend API parameters for Users</p>
<ul>
<li><input checked="" disabled="" type="checkbox">Pagination</li>
<li><input checked="" disabled="" type="checkbox">Number of Items per list returned (Max)</li>
<li><input checked="" disabled="" type="checkbox">Additional Optional for filtering</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox">Extend API parameters for ToDo</p>
<ul>
<li><input disabled="" type="checkbox">Pagination</li>
<li><input disabled="" type="checkbox">Number of Items per list returned (Max)</li>
<li><input disabled="" type="checkbox">Additional Optional for filtering</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox">Extend Tools API</p>
<ul>
<li><input disabled="" type="checkbox">Text Conversion
<ul>
<li><input checked="" disabled="" type="checkbox">XML to JSON (required to be valid XML)</li>
<li><input disabled="" type="checkbox">JSON to XML (required to be valid XML)</li>
</ul>
</li>
<li><input disabled="" type="checkbox">Text Functions
<ul>
<li><input disabled="" type="checkbox">Language of text</li>
</ul>
</li>
</ul>
</li>
<li>
<p><input checked="" disabled="" type="checkbox">Better organization</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox">Standardize API pattern for versioning</p>
</li>
<li>
<p>Access Controls</p>
<ul>
<li><input disabled="" type="checkbox">Add Access controls and signup</li>
<li><input disabled="" type="checkbox">Add JWT/Token access</li>
<li><input disabled="" type="checkbox">Rate limiting</li>
</ul>
</li>
<li>
<p><input checked="" disabled="" type="checkbox">Gunicorn with Uvicorn configuration</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox">Logging (using <a href="https://github.com/Delgan/loguru">Loguru</a>)</p>
</li>
<li>
<p><input disabled="" type="checkbox">Build a <a href="https://github.com/audreyr/cookiecutter">cookiecutter</a> template for future projects similar to the <a href="https://github.com/tiangolo/full-stack-fastapi-postgresql">FastAPI example</a></p>
</li>
<li>
<p><input disabled="" type="checkbox">Add code comments</p>
</li>
<li>
<p><input disabled="" type="checkbox">Work on one to many relationshipts</p>
</li>
<li>
<p><input disabled="" type="checkbox">Validate userId in ToDo's</p>
</li>
<li>
<p><input disabled="" type="checkbox">Work on Connection Pool for SQLite and Postgres for scaling</p>
</li>
<li>
<p>Docker</p>
<ul>
<li><input checked="" disabled="" type="checkbox">Docker-Compose example
<ul>
<li>Configuraton for Traefik (default) and <a href="https://github.com/jwilder/nginx-proxy">Jwilder/Nginx-Proxy</a> &amp; <a href="https://github.com/JrCs/docker-letsencrypt-nginx-proxy-companion">JrCs/docker-letsencrypt-nginx-proxy-companion</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Tutorials/Documentation</p>
<ul>
<li><input disabled="" type="checkbox">Basic Overview</li>
<li><input disabled="" type="checkbox">Explantion of functions</li>
</ul>
</li>
</ul>


                </div>
                    <aside class="col-md-3 tikva-sidebar">
  


    

        <div class="col">
    <!-- raw HTML omitted -->

</div>


    

</aside>
</div>
        </div>
    </div>

    
        <div class="footer-container" style="">
    <div class="container">
        <footer>

            <div class="row">
            
            
                
                    <div class="col">
    <div class="text-center">
    <a href="https://twitter.com/stuxstu" target="_blank" title="Twitter"><i class="fab fa-lg fa-twitter"></i></a>
    <a href="https://github.com/devsetgo/" target="_blank" title="Github"><i class="fab fa-lg fa-github"></i></a>
</div>
</div>
                
                    <div class="col">
    <div>
    <span>
        Copyright © <a href="http://DevSetGo.com" target="_blank">DevSetGo.com</a> 2010 -
        <script>
            var CurrentYear = new Date().getFullYear()
            document.write(CurrentYear)
        </script>
    </span>
</div>
</div>
                
                    <div class="col">
    <div class="text-center">
        Built with
        <a href="https://gohugo.io/" target="_blank" title="Hugo static site generator"><i class="fas fa-lg fa-code"></i></a>
        <a href="https://www.docker.com/" target="_blank" title="Docker"><i class="fab fa-lg fa-docker"></i></a>
        <a href="https://www.javascript.com/" target="_blank" title="JavaScript"><i class="fab fa-lg fa-js"></i></a>
        <a href="https://fontawesome.com" target="_blank" title="Font Awesome"><i class="fab fa-lg fa-font-awesome"></i></a>
        and hosted on <a href="https://m.do.co/c/9a3b3c4fbc90" target="_blank" title="Digital Ocean"><i class="fab fa-lg fa-digital-ocean"></i></a>
</div>
</div>
                
            

            </div>
        </footer>
    </div>
</div>
    
    
        
<div class="subfooter-container">

    <div class="container">
        <div class="footer">
            <div class="row wrapper padding">
                <div class="col-xs-12 col-md-12">

            
            
                
                        

                
            
                  
                </div>
            </div>
        </div>
    </div>
</div>

    

    <div id="media-width-detection-element"></div>
<script src="https://devsetgo.com/js/popper.js"></script>
<script src="https://devsetgo.com/js/bootstrap.min.js"></script>


</body>
</html>