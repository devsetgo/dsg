{% extends "base.html" %} <!-- Extends the base HTML layout -->
{% block page_title %}| WebLinks{% endblock %} <!-- Sets the page title -->
{% block page_stylesheet %} <!-- Starts the block for page-specific stylesheets -->
<style>
    /* Style for the modal */
    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Stay in place */
        z-index: 1;
        /* Sit on top */
        padding-top: 60px;
        /* Location of the box */
        left: 0;
        top: 0;
        width: 100%;
        /* Full width */
        height: 100%;
        /* Full height */
        overflow: auto;
        /* Enable scroll if needed */
        background-color: rgb(0, 0, 0);
        /* Fallback color */
        background-color: rgba(0, 0, 0, 0.9);
        /* Black w/ opacity */
    }

    /* Modal Content (image) */
    .modal-content {
        margin: auto;
        display: block;
        width: 90%;
        max-width: 1000px;
    }

    /* Caption of Modal Image */
    .caption {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 1000px;
        text-align: center;
        color: #ccc;
        padding: 10px 0;
        height: 150px;
    }

    /* Add Animation */
    .modal-content,
    .caption {
        -webkit-animation-name: zoom;
        -webkit-animation-duration: 0.6s;
        animation-name: zoom;
        animation-duration: 0.6s;
    }

    @-webkit-keyframes zoom {
        from {
            -webkit-transform: scale(0)
        }

        to {
            -webkit-transform: scale(1)
        }
    }

    @keyframes zoom {
        from {
            transform: scale(0.1)
        }

        to {
            transform: scale(1)
        }
    }

    /* The Close Button */
    .close {
        position: absolute;
        top: 15px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
    }

    .close:hover,
    .close:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
    }

    /* Close Button inside Modal */
    .close-btn {
        display: block;
        margin: 20px auto;
        padding: 10px 20px;
        background-color: #f1f1f1;
        color: #000;
        border: none;
        cursor: pointer;
        font-size: 16px;
    }

    .close-btn:hover {
        background-color: #bbb;
    }
</style>
{% endblock %} <!-- Ends the block for page-specific stylesheets -->
{% block page_breadcrumb %} WebLinks{% endblock %} <!-- Sets the breadcrumb -->
{% block page_head_title %}WebLinks{% endblock %} <!-- Sets the page head title -->
{% block body %} <!-- Starts the block for the body of the page -->
<section> <!-- Starts a section -->
    <!-- Main content -->
    <div class="content">
<div class="container-fluid">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="card-title">{{ weblink.title | title }}</h5>
            {% if request.session.is_admin is true %}
            <a href="/weblinks/update/{{weblink.pkid}}" class="btn btn-success ml-2" title="Send to AI Fix">
                <i class="fa-solid fa-robot" style="color:{{ 'red' if weblink.ai_fix else 'black' }};"></i>
            </a>
            {% endif %}
        </div>
        <div class="card-body">
            <div class="mb-3">
                <label>WebLink: {{link_status}}</label>
                <br>
                <a href="{{ weblink.url }}" target="_blank">{{ weblink.title | title }}</a> 
                Link: {% if link_status %}
                <i class="fa-solid fa-check" style="color: green;" title="Link Working"></i>
                {% else %}
                <i class="fa-solid fa-times" style="color: red;" title="Link Not Working"></i>
                {% endif %}
            </div>
            <div class="mb-3">
                <label>Summary:</label>
                <br>
                {{ weblink.summary }}
            </div>
            <div class="row d-flex justify-content-between mb-3">
                <div class="col-md-4">
                    <label>Date Created:</label>
                    <span>{{ weblink.date_created }}</span>
                </div>
                <div class="col-md-4">
                    <label>Date Updated:</label>
                    <span>{{ weblink.date_updated }}</span>
                </div>
                <div class="col-md-4">
                    <label>Category:</label>
                    <span>{{ weblink.category }}</span>
                </div>
            </div>
            <div class="mb-3">
                <label>Image:</label>
                <br>
                {{page_image|safe}}
            </div>
        </div>
    </div>
</div>
    </div>

    <!-- The Modal -->
    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
        <div class="caption" id="caption"></div>
        <button class="close-btn" onclick="closeModal()">Close</button>
    </div>

    {% endblock %}
    {% block page_sidebar_content %}
    <!-- blank and demo script adds page configuration example -->
    <!-- <div class="p-3">
  <h5>Title</h5>
  <p>Sidebar content</p>
</div> -->
    {% endblock %}
    {% block page_scripts %}
    <!-- page scripts-->
    <script>
        // Open the Modal
        function openModal(img) {
            var modal = document.getElementById("myModal");
            var modalImg = document.getElementById("modalImage");
            var captionText = document.getElementById("caption");
            modal.style.display = "block";
            modalImg.src = img.src;
            captionText.innerHTML = img.alt;
        }

        // Close the Modal
        function closeModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "none";
        }
    </script>
    {% endblock %}